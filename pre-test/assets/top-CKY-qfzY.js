const d=!!document.querySelector('script[src="/@vite/client"]');function h(t){let a=t.url,o,l;const i=new Headers;i.set("content-type","application/json");const u=m(t.url);if(!t.method||t.method.toLowerCase()==="get"){const e=t.data;Object.entries(e).forEach(([n,c])=>{const s=["number","string"].includes(typeof c)?c:encodeURIComponent(JSON.stringify(c));u.searchParams.set(n,s)})}else t.data instanceof FormData?(l=t.data,i.delete("content-type")):l=JSON.stringify(t.data);new Headers(t.headers).forEach((e,n)=>{i.set(n,e)});const f=Object.assign({credentials:"omit"},t,{body:l,headers:i});if(o=Object.fromEntries(Object.entries(f).filter(([e])=>!["data","url","before","after"].includes(e))),a=u.href,t.before){const[e,n]=t.before(a,o);o=n,a=e}return fetch(a,o).then(e=>{const n=e.headers.get("content-type")||"",c=~n.indexOf("text/"),s=~n.indexOf("application/json");return e.clone()[s||c?"json":"blob"]().catch(()=>e.text()).then(r=>({status:e.status,statusText:e.statusText,headers:e.headers,url:e.url,body:r,response:e})).then(r=>t.after?t.after(r):r.status>=200&&r.status<300?r:Promise.reject(r))})}function m(t){const a=new URL(d?location.origin:"https://min-api.cryptocompare.com");return new URL(t,a.origin+a.pathname)}function b(t){return h({url:"/data/top/totalvolfull",data:t})}export{b as G};
