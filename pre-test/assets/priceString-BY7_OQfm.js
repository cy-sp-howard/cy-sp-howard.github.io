const d=!!document.querySelector('script[src="/@vite/client"]');function h(t){let n=t.url,a,l;const c=new Headers;c.set("content-type","application/json");const f=m(t.url);if(!t.method||t.method.toLowerCase()==="get"){const e=t.data;Object.entries(e).forEach(([r,i])=>{const s=["number","string"].includes(typeof i)?i:encodeURIComponent(JSON.stringify(i));f.searchParams.set(r,s)})}else t.data instanceof FormData?(l=t.data,c.delete("content-type")):l=JSON.stringify(t.data);new Headers(t.headers).forEach((e,r)=>{c.set(r,e)});const u=Object.assign({credentials:"omit"},t,{body:l,headers:c});if(a=Object.fromEntries(Object.entries(u).filter(([e])=>!["data","url","before","after"].includes(e))),n=f.href,t.before){const[e,r]=t.before(n,a);a=r,n=e}return fetch(n,a).then(e=>{const r=e.headers.get("content-type")||"",i=~r.indexOf("text/"),s=~r.indexOf("application/json");return e.clone()[s||i?"json":"blob"]().catch(()=>e.text()).then(o=>({status:e.status,statusText:e.statusText,headers:e.headers,url:e.url,body:o,response:e})).then(o=>t.after?t.after(o):o.status>=200&&o.status<300?o:Promise.reject(o))})}function m(t){const n=new URL(d?location.origin:"https://min-api.cryptocompare.com");return new URL(t,n.origin+n.pathname)}function g(t){return h({url:"/data/top/totalvolfull",data:t})}function b(t){let n=3;t<.1?(n=Math.floor(1/t).toString().length+2,n>7&&(n=7)):t>1e4&&(n=0);const a=Math.pow(10,n);return(Math.floor(t*a)/a).toLocaleString("en",{maximumFractionDigits:n})}export{g as G,b as p};
