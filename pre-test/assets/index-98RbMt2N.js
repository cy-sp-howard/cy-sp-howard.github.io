import{G as g}from"./top-CKY-qfzY.js";import{d,c as v,r as C,o as c,a as p,w as D,b as n,t as r,n as I,_ as f,e as M,f as U,g as R,h as _,F as S,i as x}from"./index-DJ8OcYgl.js";const w=["src"],k={class:"currency"},A=["data-unit"],B={class:"value"},E=32.045,T=d({__name:"listItem",props:{item:{}},setup(m){const u="https://www.cryptocompare.com/",a=m,o=v(()=>{const t=a.item,e=Math.floor(t.RAW.USD.CHANGEPCT24HOUR*100)/100,{vol:s,unit:h}=l(t.RAW.USD.VOLUME24HOUR);return Object.assign({logo:u+t.CoinInfo.ImageUrl,price:i(t.RAW.USD.PRICE),price_tw:i(t.RAW.USD.PRICE*E),changed:e,changedColor:e>0?"red":e<0?"green":"",vol:s,volUnit:h},a.item)});function l(t){return t>=1e11?{vol:Math.floor(t/1e12*100)/100,unit:"T"}:t>=1e8?{vol:Math.floor(t/1e9*100)/100,unit:"B"}:t>=1e4?{vol:Math.floor(t/1e6*100)/100,unit:"M"}:{vol:Math.floor(t),unit:""}}function i(t){let e=3;t<.1?(e=Math.floor(1/t).toString().length+2,e>7&&(e=7)):t>1e4&&(e=0);const s=Math.pow(10,e);return(Math.floor(t*s)/s).toLocaleString("en",{maximumFractionDigits:e})}return(t,e)=>{const s=C("router-link");return c(),p(s,{class:"list-item",to:{name:"detail",params:{id:o.value.CoinInfo.Id}}},{default:D(()=>[n("img",{src:o.value.logo},null,8,w),n("div",k,[n("span",null,r(o.value.CoinInfo.Name),1),n("small",{"data-unit":o.value.volUnit},r(o.value.vol),9,A)]),n("div",B,[n("span",null,r(o.value.price),1),n("small",null,r(o.value.price_tw),1)]),n("div",{class:I(["change",o.value.changedColor])},r(o.value.changed),3)]),_:1},8,["to"])}}}),W=f(T,[["__scopeId","data-v-a173869b"]]),y={id:"home"},L=d({__name:"index",setup(m){const u=M({limit:10,tsym:"USD"}),a=U([]);function o(){g(u).then(({body:l})=>{a.value=l.Data.filter(i=>"RAW"in i)})}return R(()=>{o()}),(l,i)=>(c(),_("div",y,[(c(!0),_(S,null,x(a.value,(t,e)=>(c(),p(W,{key:e,item:t},null,8,["item"]))),128))]))}}),F=f(L,[["__scopeId","data-v-bd626908"]]);export{F as default};
